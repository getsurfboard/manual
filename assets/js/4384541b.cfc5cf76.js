"use strict";(self.webpackChunkmanual=self.webpackChunkmanual||[]).push([[4462],{4485:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"profile-format/overview","title":"Overview","description":"This page provides a comprehensive overview of the Surfboard profile format. Surfboard\'s configuration system is designed for flexibility and power, allowing users to define sophisticated proxy rules and network behaviors.","source":"@site/docs/profile-format/overview.md","sourceDirName":"profile-format","slug":"/profile-format/overview","permalink":"/docs/profile-format/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/getsurfboard/manual/edit/main/docs/profile-format/overview.md","tags":[],"version":"current","sidebarPosition":0,"frontMatter":{"sidebar_position":0},"sidebar":"tutorialSidebar","previous":{"title":"How to use this app","permalink":"/docs/how_to_use_this_app"},"next":{"title":"// Comment","permalink":"/docs/profile-format/comment"}}');var t=o(4848),s=o(8453);const i={sidebar_position:0},a="Overview",c={},l=[];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"overview",children:"Overview"})}),"\n",(0,t.jsx)(n.p,{children:"This page provides a comprehensive overview of the Surfboard profile format. Surfboard's configuration system is designed for flexibility and power, allowing users to define sophisticated proxy rules and network behaviors."}),"\n",(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsxs)(n.p,{children:["Surfboard follows ",(0,t.jsx)(n.a,{href:"https://nssurge.com/",children:"Surge"}),"'s profile format."]}),(0,t.jsxs)(n.p,{children:["Surge's profile documentation can be viewed ",(0,t.jsx)(n.a,{href:"https://manual.nssurge.com/",children:"here"}),"."]})]}),"\n",(0,t.jsxs)(n.p,{children:["The following example demonstrates a complete profile structure, covering the primary sections: ",(0,t.jsx)(n.code,{children:"[General]"}),", ",(0,t.jsx)(n.code,{children:"[Host]"}),", ",(0,t.jsx)(n.code,{children:"[Proxy]"}),", ",(0,t.jsx)(n.code,{children:"[Proxy Group]"}),", ",(0,t.jsx)(n.code,{children:"[Rule]"}),", and ",(0,t.jsx)(n.code,{children:"[Panel]"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ini",children:'#!MANAGED-CONFIG http://test.com/surfboard.conf interval=60 strict=true # Remote configuration subscription with auto-update interval in minutes\n\n[General]\n# DNS server configuration. \'system\' uses the device\'s default DNS.\ndns-server = system, 8.8.8.8, 8.8.4.4, 9.9.9.9:9953\n\n# DNS over HTTPS (DoH) servers for encrypted DNS queries.\ndoh-server = https://9.9.9.9/dns-query, https://1.1.1.1/dns-query\n\n# List of domains or IP ranges that bypass the proxy.\nskip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, localhost, *.local, www.example.com\n\n# URL used to test latency for proxy connections.\nproxy-test-url = http://www.gstatic.com/generate_204\n\n# URL used to test latency for direct connections.\ninternet-test-url = http://www.gstatic.cn/generate_204\n\n# Timeout in seconds for connectivity tests.\ntest-timeout = 5\n\n# Domains that should always resolve to their real IP, bypassing fake IP mechanisms.\nalways-real-ip = *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com\n\n# Internal HTTP proxy server address and port.\nhttp-listen = 0.0.0.0:1234\n\n# Internal SOCKS5 proxy server address and port.\nsocks5-listen = 127.0.0.1:1235\n\n# Behavior when a proxy does not support UDP relay (DIRECT or REJECT).\nudp-policy-not-supported-behaviour = DIRECT\n\n[Host]\n# Static IP mapping for specific domains.\nabc.com = 1.2.3.4\n\n# Wildcard domain mapping.\n*.dev = 6.7.8.9\n\n# DNS alias (CNAME) mapping.\nfoo.com = bar.com\n\n# Custom DNS server for a specific domain.\nbar.com = server:8.8.8.8\n\n[Proxy]\n# Built-in policies.\nOn = direct\nOff = reject\n\n# HTTP proxy configuration.\nProxyHTTP = http, 1.2.3.4, 443, username, password\n\n# HTTPS proxy with TLS settings.\nProxyHTTPS = https, 1.2.3.4, 443, username, password, skip-cert-verify=true, sni=www.google.com\n\n# SOCKS5 proxy configuration.\nProxySOCKS5 = socks5, 1.2.3.4, 443, username, password, udp-relay=false\n\n# SOCKS5 over TLS for enhanced security.\nProxySOCKS5TLS = socks5-tls, 1.2.3.4, 443, username, password, skip-cert-verify=true, sni=www.google.com\n\n# Shadowsocks proxy with optional obfuscation.\nProxySS = ss, 1.2.3.4, 8000, encrypt-method=chacha20-ietf-poly1305, password=abcd1234, udp-relay=false, obfs=http, obfs-host=www.google.com, obfs-uri=/\n\n# VMess proxy for V2Ray protocols.\nProxyVMess = vmess, 1.2.3.4, 8000, username=0233d11c-15a4-47d3-ade3-48ffca0ce119, udp-relay=false, ws=true, tls=true, ws-path=/v2, ws-headers=X-Header-1:value|X-Header-2:value, skip-cert-verify=true, sni=www.google.com, vmess-aead=true\n\n# Trojan proxy configuration.\nProxyTrojan = trojan, 192.168.20.6, 443, password=password1, udp-relay=false, skip-cert-verify=true, sni=www.google.com\n\n# AnyTLS proxy configuration.\nProxyAnyTLS = anytls, 1.2.3.4, 443, password, skip-cert-verify=true, sni=abc.com, reuse=false\n\n# Hysteria2 proxy configuration.\nProxyHysteria2 = hysteria2, 1.2.3.4, 443, password=pwd, download-bandwidth=100, port-hopping="1234;5000-6000", port-hopping-interval=30, skip-cert-verify=true, sni=example.com, udp-relay=true\n\n# WireGuard VPN integration.\nProxyWireguard = wireguard, section-name = HomeServer\n\n[WireGuard HomeServer]\n# Specific WireGuard interface and peer configuration.\nprivate-key = sDEZLACT3zgNCS0CyClgcBC2eYROqYrwLT4wdtAJj3s=\nself-ip = 10.0.2.2\ndns-server = 8.8.8.8\nmtu = 1280\npeer = (public-key = fWO8XS9/nwUQcqnkfBpKeqIqbzclQ6EKP20Pgvzwclg=, allowed-ips = 0.0.0.0/0, endpoint = 192.168.20.6:51820, keepalive = 30)\n\n[Proxy Group]\n# Manual selection group.\nSelectGroup = select, ProxyHTTP, ProxyHTTPS, DIRECT, REJECT\n\n# Automatic latency-based selection.\nAutoTestGroup = url-test, ProxySOCKS5, ProxySOCKS5TLS, url=http://www.gstatic.com/generate_204, interval=600, tolerance=100, timeout=5, hidden=true\n\n# Group utilizing an external policy list.\nExternalGroup = select, policy-path=https://example.com/nodes.txt, policy-regex-filter=HK-.*\n\n# Group that includes all defined proxies.\nAllProxies = select, include-all-proxies = true\n\n# Load balancing group for distributing traffic.\nLoadBalanceGroup = load-balance, ProxyHTTP, ProxyHTTPS\n\n# Fallback group: switches to next proxy if current fails.\nFallbackGroup = fallback, ProxySOCKS5, ProxySOCKS5TLS, url=http://www.gstatic.com/generate_204, interval=600, timeout=5\n\n[Rule]\n# Direct domain matching.\nDOMAIN,www.apple.com,ProxyHTTP\n\n# Domain suffix matching (covers all subdomains).\nDOMAIN-SUFFIX,apple.com,Proxy,force-remote-dns\n\n# Domain keyword matching.\nDOMAIN-KEYWORD,google,Proxy,enhanced-mode\n\n# IP range matching using CIDR notation.\nIP-CIDR,192.168.0.0/16,DIRECT\n\n# Logical rule combining multiple criteria.\nAND,((DOMAIN-SUFFIX,google.com),(DEST-PORT,443)),Proxy\n\n# Geolocation-based matching (e.g., ISO country code).\nGEOIP,US,REJECT\n\n# Application-based matching by process/package name.\nPROCESS-NAME,com.android.vending,Proxy\n\n# Rule matching traffic against an external rule set.\nRULE-SET,https://example.com/ruleset.conf,ProxyVMess\n\n# SSID/BSSID based rules for specific networks.\nSUBNET,TYPE:WIFI,DIRECT\n\n# Protocol-specific rules.\nPROTOCOL,QUIC,REJECT\n\n# Default rule for traffic matching no other rules.\nFINAL,ProxyTrojan\n\n[Panel]\n# Custom UI panel for displaying information or status.\nPanelA = title="Status Panel", content="System Online\\nAll services operational", style=info\n'})}),"\n",(0,t.jsx)(n.p,{children:"You can read on for detailed definitions of different sections."})]})}function d(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>i,x:()=>a});var r=o(6540);const t={},s=r.createContext(t);function i(e){const n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);