---
sidebar_position: 6
---

# 杂项规则

Surfboard 支持几种其它的规则类型，用于根据目标端口、源 IP 和网络协议进行更精细的流量控制。

## 示例

```ini
# 将发往目标端口 80 的流量直接转发
DEST-PORT,80,DIRECT

# 将源自特定本地客户端 IP 的流量直接转发
SRC-IP,192.168.20.100,DIRECT

# 将在特定本地监听端口上接收到的流量直接转发
IN-PORT,6152,DIRECT

# 将所有 HTTP (TCP 80 端口) 流量直接转发
PROTOCOL,HTTP,DIRECT
```

## 格式

```ini
{type},{value},{target_proxy}
```

## 参数

| 名称         | 值                                                                                                                                            | 是否必填 | 备注                                                                                                                                                                                                  |
|--------------|--------------------------------------------------------------------------------------------------------------------------------------------------|-----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| type         | DEST-PORT<br/>SRC-IP<br/>IN-PORT<br/>PROTOCOL                                                                                                    | 是      | `SRC-IP`: 用于根据客户端 IP 区分局域网代理接收到的客户端流量。<br/>`IN-PORT`: 用于根据代理端口区分局域网代理接收到的客户端流量。 |
| value        | DEST-PORT: 目标端口号。<br/>SRC-IP: 客户端 IP 地址。<br/>IN-PORT: 局域网代理监听端口号。<br/>PROTOCOL: HTTP/HTTPS/TCP/UDP/QUIC。 | 是      | PROTOCOL: 暂不支持 DoH, DoH3 和 DoQ。                                                                                                                                                         |
| target proxy | -                                                                                                                                                | 是      | 指定的代理或策略组必须存在于配置文件中。                                                                                                                                                |